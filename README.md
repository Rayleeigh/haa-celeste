# Homelab Overview

Welcome to my homelab documentation. This space captures the systems, services, and automation I run to keep everything reliable and self-hosted.

## Goals

- Keep services stable and easy to maintain
- Automate the boring parts
- Document changes and learnings along the way

## Current Stack

- Hypervisor and lightweight VMs
- Container services for apps and tooling
- Centralized monitoring and backups

## Roadmap

- Expand observability coverage
- Standardize deployment templates
- Improve documentation depth

---

# Repo Guide

## Repository Structure

- `index.html` is the landing page.
- `homelab.html` is the documentation hub.
- `homelab-docs/<category>/` holds markdown docs grouped by category.
- `homelab-docs/landing.md` is the docs landing page.
- `homelab-docs/index.json` is auto-generated from folders and files.
- `release-doc/` holds major release markdown notes.
- `version.json` stores the current version, static notes, and previous commit hash.

## Homelab Docs Workflow

- Create a new category by adding a folder under `homelab-docs/`.
- Add any `*.md` file inside a category and it becomes a menu item.
- The menu index is generated by:

```
python scripts/generate_homelab_index.py
```

## Release + Deploy Lifecycle

The release flow starts locally and chains through GitHub Actions:

1. Run the local release script and choose `M` (major), `m` (minor), or `p` (patch).
2. The script commits all changes with `release: <type> vX.Y.Z` and pushes to `main`.
3. `Release Notes` workflow runs on that commit, bumps `version.json`, and creates/updates a GitHub release `vX.Y.Z`.
4. `Homelab Docs Index` workflow runs and verifies `homelab-docs/index.json`.
5. `Deploy GitHub Pages` runs and publishes the site.

Run the local release:

```
python scripts/local_release.py
```

### Release Notes (Major Only)

- Add a markdown file like `release-doc/VX.Y.Z.md`.
- Major releases embed these docs into the GitHub release notes.

### Versioning Rules

- `major`: increment major, reset minor/patch.
- `minor`: increment minor, reset patch.
- `patch`: increment patch.

## Technical Documentation

- See [`docs/TECHNICAL.md`](./docs/TECHNICAL.md) for full technical details and workflow internals.
